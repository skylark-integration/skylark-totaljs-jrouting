{"version":3,"sources":["globals.js"],"names":["define","$","tangular","W","window","jR","ROUTE","url","fn","middleware","init","route","setTimeout","async","jRouting","g","hashtags","isModernBrowser","this","jquery","replace","Error","handler","e","preventDefault","redirect","attr","document","on","selector","filter","bind","location","hash","JRFU","path","prepareUrl","pathname","events","ready","emit","isReady"],"mappings":";;;;;;;AAAAA,QACC,qBACA,QACC,SAASC,EAAEC,GACZ,OAAO,WACN,IAAIC,EAAIC,OA6ER,OA3EAD,EAAEE,GAAKA,GAEPF,EAAEG,MAAQ,SAASC,EAAKC,EAAIC,EAAYC,GACvC,OAAOL,GAAGM,MAAMJ,EAAKC,EAAIC,EAAYC,IAGtCE,WAAWP,GAAGQ,MAAO,KACrBD,WAAWP,GAAGQ,MAAO,KACrBD,WAAWP,GAAGQ,MAAO,KACrBD,WAAWP,GAAGQ,MAAO,KACrBD,WAAWP,GAAGQ,MAAO,KAGpBR,GAAGQ,QACHZ,EAAEO,GAAGM,SAAW,SAASC,GAExB,GAAIV,GAAGW,WAAaX,GAAGY,gBACtB,OAAOC,KAGR,IADejB,EAAEO,GAAGW,OAAOC,QAAQ,MAAO,KAC3B,MAAa,IAANL,EACrB,MAAMM,MAAM,kGAEb,IAAIC,EAAU,SAASC,GACtBA,EAAEC,iBACFnB,GAAGoB,SAASxB,EAAEiB,MAAMQ,KAAK,UAQ1B,OALIX,EACHd,EAAE0B,UAAUC,GAAG,QAASV,KAAKW,SAAUP,GAEvCJ,KAAKY,OAAO,KAAKC,KAAK,QAAST,GAEzBJ,MAGRjB,EAAE,WAEDI,GAAGQ,QAECR,GAAGW,SACNX,GAAGE,IAAMyB,SAASC,MAAQC,KAAKC,KAAKD,KAAKE,WAAWJ,SAASK,WAE7DhC,GAAGE,IAAM2B,KAAKC,KAAKD,KAAKE,WAAWJ,SAASK,WAEzChC,GAAGiC,OAAOC,OACblC,GAAGmC,KAAK,QAASnC,GAAGE,KACpBF,GAAGmC,KAAK,OAAQnC,GAAGE,MAEnBK,WAAW,WACVP,GAAGoC,SAAU,EACbpC,GAAG2B,SAAS3B,GAAGE,KACfF,GAAGmC,KAAK,QAASnC,GAAGE,KACpBF,GAAGmC,KAAK,OAAQnC,GAAGE,MACjB,GAGJN,EAAEG,QAAQwB,GAAG,aAAc,WACrBvB,GAAGoC,SAAYpC,GAAGW,UAEvBX,GAAG2B,SAASE,KAAKC,KAAKH,SAASC,SAGhChC,EAAEG,QAAQwB,GAAG,WAAY,WACxB,GAAKvB,GAAGoC,UAAWpC,GAAGW,SAAtB,CAEA,IAAIT,EAAM2B,KAAKC,KAAKH,SAASK,UAC7BhC,GAAGE,MAAQA,GAAOF,GAAG2B,SAASzB,QAQ1BJ","file":"../globals.js","sourcesContent":["define([\r\n\t\"skylark-domx-query\",\r\n\t\"./jR\"\r\n],function($,tangular){\r\n\treturn function() {\r\n\t\tvar W = window;\r\n\r\n\t\tW.jR = jR;\r\n\t\t\r\n\t\tW.ROUTE = function(url, fn, middleware, init) {\r\n\t\t\treturn jR.route(url, fn, middleware, init);\r\n\t\t};\t\r\n\r\n\t\tsetTimeout(jR.async, 500);\r\n\t\tsetTimeout(jR.async, 1000);\r\n\t\tsetTimeout(jR.async, 2000);\r\n\t\tsetTimeout(jR.async, 3000);\r\n\t\tsetTimeout(jR.async, 5000);\r\n\r\n\t\tfunction jRinit() {\r\n\t\t\tjR.async();\r\n\t\t\t$.fn.jRouting = function(g) {\r\n\r\n\t\t\t\tif (jR.hashtags || !jR.isModernBrowser)\r\n\t\t\t\t\treturn this;\r\n\r\n\t\t\t\tvar version = +$.fn.jquery.replace(/\\./g, '');\r\n\t\t\t\tif (version >= 300 && g === true)\r\n\t\t\t\t\tthrow Error('$(selector).jRouting() doesn\\'t work in jQuery +3. Instead of this use jR.clientside(selector).');\r\n\r\n\t\t\t\tvar handler = function(e) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tjR.redirect($(this).attr('href'));\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif (g)\r\n\t\t\t\t\t$(document).on('click', this.selector, handler);\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.filter('a').bind('click', handler);\r\n\r\n\t\t\t\treturn this;\r\n\t\t\t};\r\n\r\n\t\t\t$(function() {\r\n\r\n\t\t\t\tjR.async();\r\n\r\n\t\t\t\tif (jR.hashtags)\r\n\t\t\t\t\tjR.url = location.hash || JRFU.path(JRFU.prepareUrl(location.pathname));\r\n\t\t\t\telse\r\n\t\t\t\t\tjR.url = JRFU.path(JRFU.prepareUrl(location.pathname));\r\n\r\n\t\t\t\tif (jR.events.ready) {\r\n\t\t\t\t\tjR.emit('ready', jR.url);\r\n\t\t\t\t\tjR.emit('load', jR.url);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tjR.isReady = true;\r\n\t\t\t\t\t\tjR.location(jR.url);\r\n\t\t\t\t\t\tjR.emit('ready', jR.url);\r\n\t\t\t\t\t\tjR.emit('load', jR.url);\r\n\t\t\t\t\t}, 5);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(window).on('hashchange', function() {\r\n\t\t\t\t\tif (!jR.isReady || !jR.hashtags)\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\tjR.location(JRFU.path(location.hash));\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$(window).on('popstate', function() {\r\n\t\t\t\t\tif (!jR.isReady || jR.hashtags)\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\tvar url = JRFU.path(location.pathname);\r\n\t\t\t\t\tjR.url !== url && jR.location(url);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tjRinit();\r\n\r\n\r\n\t\treturn W;\r\n\t};\r\nx});\r\n"]}