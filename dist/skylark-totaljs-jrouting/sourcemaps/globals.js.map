{"version":3,"sources":["globals.js"],"names":["define","$","tangular","globals","W","window","jR","ROUTE","url","fn","middleware","init","route","setTimeout","async","jRouting","g","hashtags","isModernBrowser","this","jquery","replace","Error","handler","e","preventDefault","redirect","attr","document","on","selector","filter","bind","ready","location","hash","JRFU","path","prepareUrl","pathname","events","emit","isReady"],"mappings":";;;;;;;AAAAA,QACC,qBACA,QACC,SAASC,EAAEC,GACZ,OAAOA,EAASC,QAAU,WACzB,IAAIC,EAAIC,OA6ER,OA3EAD,EAAEE,GAAKA,GAEPF,EAAEG,MAAQ,SAASC,EAAKC,EAAIC,EAAYC,GACvC,OAAOL,GAAGM,MAAMJ,EAAKC,EAAIC,EAAYC,IAGtCE,WAAWP,GAAGQ,MAAO,KACrBD,WAAWP,GAAGQ,MAAO,KACrBD,WAAWP,GAAGQ,MAAO,KACrBD,WAAWP,GAAGQ,MAAO,KACrBD,WAAWP,GAAGQ,MAAO,KAGpBR,GAAGQ,QACHb,EAAEQ,GAAGM,SAAW,SAASC,GAExB,GAAIV,GAAGW,WAAaX,GAAGY,gBACtB,OAAOC,KAGR,IADelB,EAAEQ,GAAGW,OAAOC,QAAQ,MAAO,KAC3B,MAAa,IAANL,EACrB,MAAMM,MAAM,kGAEb,IAAIC,EAAU,SAASC,GACtBA,EAAEC,iBACFnB,GAAGoB,SAASzB,EAAEkB,MAAMQ,KAAK,UAQ1B,OALIX,EACHf,EAAE2B,UAAUC,GAAG,QAASV,KAAKW,SAAUP,GAEvCJ,KAAKY,OAAO,KAAKC,KAAK,QAAST,GAEzBJ,MAGRlB,EAAE2B,UAAUK,MAAM,WAEjB3B,GAAGQ,QAECR,GAAGW,SACNX,GAAGE,IAAM0B,SAASC,MAAQC,KAAKC,KAAKD,KAAKE,WAAWJ,SAASK,WAE7DjC,GAAGE,IAAM4B,KAAKC,KAAKD,KAAKE,WAAWJ,SAASK,WAEzCjC,GAAGkC,OAAOP,OACb3B,GAAGmC,KAAK,QAASnC,GAAGE,KACpBF,GAAGmC,KAAK,OAAQnC,GAAGE,MAEnBK,WAAW,WACVP,GAAGoC,SAAU,EACbpC,GAAG4B,SAAS5B,GAAGE,KACfF,GAAGmC,KAAK,QAASnC,GAAGE,KACpBF,GAAGmC,KAAK,OAAQnC,GAAGE,MACjB,GAGJP,EAAEI,QAAQwB,GAAG,aAAc,WACrBvB,GAAGoC,SAAYpC,GAAGW,UAEvBX,GAAG4B,SAASE,KAAKC,KAAKH,SAASC,SAGhClC,EAAEI,QAAQwB,GAAG,WAAY,WACxB,GAAKvB,GAAGoC,UAAWpC,GAAGW,SAAtB,CAEA,IAAIT,EAAM4B,KAAKC,KAAKH,SAASK,UAC7BjC,GAAGE,MAAQA,GAAOF,GAAG4B,SAAS1B,QAQ1BJ","file":"../globals.js","sourcesContent":["define([\r\n\t\"skylark-domx-query\",\r\n\t\"./jR\"\r\n],function($,tangular){\r\n\treturn tangular.globals = function() {\r\n\t\tvar W = window;\r\n\r\n\t\tW.jR = jR;\r\n\t\t\r\n\t\tW.ROUTE = function(url, fn, middleware, init) {\r\n\t\t\treturn jR.route(url, fn, middleware, init);\r\n\t\t};\t\r\n\r\n\t\tsetTimeout(jR.async, 500);\r\n\t\tsetTimeout(jR.async, 1000);\r\n\t\tsetTimeout(jR.async, 2000);\r\n\t\tsetTimeout(jR.async, 3000);\r\n\t\tsetTimeout(jR.async, 5000);\r\n\r\n\t\tfunction jRinit() {\r\n\t\t\tjR.async();\r\n\t\t\t$.fn.jRouting = function(g) {\r\n\r\n\t\t\t\tif (jR.hashtags || !jR.isModernBrowser)\r\n\t\t\t\t\treturn this;\r\n\r\n\t\t\t\tvar version = +$.fn.jquery.replace(/\\./g, '');\r\n\t\t\t\tif (version >= 300 && g === true)\r\n\t\t\t\t\tthrow Error('$(selector).jRouting() doesn\\'t work in jQuery +3. Instead of this use jR.clientside(selector).');\r\n\r\n\t\t\t\tvar handler = function(e) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tjR.redirect($(this).attr('href'));\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif (g)\r\n\t\t\t\t\t$(document).on('click', this.selector, handler);\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.filter('a').bind('click', handler);\r\n\r\n\t\t\t\treturn this;\r\n\t\t\t};\r\n\r\n\t\t\t$(document).ready(function() {\r\n\r\n\t\t\t\tjR.async();\r\n\r\n\t\t\t\tif (jR.hashtags)\r\n\t\t\t\t\tjR.url = location.hash || JRFU.path(JRFU.prepareUrl(location.pathname));\r\n\t\t\t\telse\r\n\t\t\t\t\tjR.url = JRFU.path(JRFU.prepareUrl(location.pathname));\r\n\r\n\t\t\t\tif (jR.events.ready) {\r\n\t\t\t\t\tjR.emit('ready', jR.url);\r\n\t\t\t\t\tjR.emit('load', jR.url);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tjR.isReady = true;\r\n\t\t\t\t\t\tjR.location(jR.url);\r\n\t\t\t\t\t\tjR.emit('ready', jR.url);\r\n\t\t\t\t\t\tjR.emit('load', jR.url);\r\n\t\t\t\t\t}, 5);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(window).on('hashchange', function() {\r\n\t\t\t\t\tif (!jR.isReady || !jR.hashtags)\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\tjR.location(JRFU.path(location.hash));\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$(window).on('popstate', function() {\r\n\t\t\t\t\tif (!jR.isReady || jR.hashtags)\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\tvar url = JRFU.path(location.pathname);\r\n\t\t\t\t\tjR.url !== url && jR.location(url);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tjRinit();\r\n\r\n\r\n\t\treturn W;\r\n\t};\r\nx});\r\n"]}